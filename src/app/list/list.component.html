<!--<p>list works!</p> -->
<!-- <div *ngFor ="let cliente of clientes" >
  {{cliente.id}} - {{cliente.nome}} - {{cliente.quantidadeFuncionarios}}
</div> -->
<button (click)="form()" class="btn btn-light btn">
  <fa-icon [icon]=faPlusSquare></fa-icon>
  Adicionar Cliente
</button>

<!--https://stackoverflow.com/questions/23101966/bootstrap-alert-auto-close-->
<div class="alert alert-primary" role="alert" *ngIf="blockDeletion" id="deletion-alert">
  N E G A D O, clique aqui e saiba mais:
  <button class="btn btn-light" data-toggle="modal"
  data-target="#modalMensagem">
  <fa-icon [icon]="faEye"></fa-icon>
</button>
</div>
<div class="row">
  <div class="col-md-12">
    <div class="table-responsive">
      <table class="table table-hover">
        <thead>
          <th scope="col">Id</th>
          <th scope="col">Nome</th>
          <th scope="col">Nº de Funcionários</th>
          <th scope="col">Cidade</th>
          <th scope="col">Estado</th>
          <th scope="col">País</th>
          <th scope="col" colspane="4"></th>
        </thead>
        <tbody>
          <tr *ngFor="let cliente of clientes">
            <th scope="row">{{cliente.id}}</th>
            <td>{{cliente.nome}}</td>
            <td>{{cliente.quantidadeFuncionarios}}</td>
            <td>{{cliente.cidade}}</td>
            <td>{{cliente.estado}}</td>
            <td>{{cliente.pais}}</td>
            <td style="white-space: nowrap;">
              <button class="btn btn-light" (click)="prepararExibir(cliente)" data-toggle="modal"
                data-target="#modalExibir">
                <fa-icon [icon]="faEye"></fa-icon>
              </button>
            </td>

            <td style="white-space: nowrap;">
              <button class="btn btn-light" (click)="preparaDelete(cliente)" data-toggle="modal"
                data-target="#modalDelecao">
                <fa-icon [icon]="faTrash"></fa-icon>
              </button>
            </td>

            <td style="white-space: nowrap;">
              <button class="btn btn-light" (click)="alterar(cliente.id)">
                <fa-icon [icon]="faPencilAlt"></fa-icon>
              </button>
            </td>


            <td>
              <div class="button r center" id="button-1">
                <input type="checkbox" class="checkbox" (click)="prepararMudarStatus(cliente)" [checked]="cliente.ativo"
                  data-toggle="modal" data-target="#modalStatus">
                <div class="knobs"></div>
                <div class="layer"></div>
              </div>
            </td>


          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<div id="modalDelecao" class="modal fase" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4>Confirmação</h4>
      </div>
      <div class="modal-body">
        <h5>Tem certeza que deseja deletar?</h5>
        <h6>Cliente: <span class="badge badge-secondary">{{clienteSelecionadoDelete.nome}}</span></h6>
      </div>
      <div class="modal-footer">
        <button class="btn btn-danger" (click)="delete()" data-dismiss="modal">Confirmar</button>
        <button class="btn btn-info" data-dismiss="modal">Cancela</button>
      </div>
    </div>
  </div>
</div>


<div id="modalExibir" class="modal fase" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4>Confirmação</h4>
      </div>
      <div class="modal-body">
        <h5>Tem certeza que deseja Exibir?</h5>
        <h6>Cliente: <span class="badge badge-secondary">{{clienteSelecionadoExibir.nome}}</span></h6>
      </div>
      <div class="modal-footer">
        <button class="btn btn-danger" (click)="exibir()" data-dismiss="modal">Confirmar</button>
        <button class="btn btn-info" data-dismiss="modal">Cancela</button>
      </div>
    </div>
  </div>
</div>

<div id="modalStatus" class="modal fase" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4>Confirmação</h4>
      </div>
      <div class="modal-body">
        <h5>Tem certeza que deseja mudar o status?</h5>
        <h6>Cliente: <span class="badge badge-secondary">{{clienteSelecionadoAtivar.nome}}</span></h6>
      </div>
      <div class="modal-footer">
        <button class="btn btn-danger" (click)="mudarStatus()" data-dismiss="modal">Confirmar</button>
        <button class="btn btn-info" data-dismiss="modal">Cancela</button>
      </div>
    </div>
  </div>
</div>

<div id="modalMensagem" class="modal fase" role="dialog" *ngIf="blockDeletion">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4>Não é possível deletar o cliente</h4>
      </div>
      <div class="modal-body">
        <h5>Cliente com pedido vinculado</h5>
        <h6>Use a função de desativar, ou delete os pedidos vinculados</h6>
      </div>
      <div class="modal-footer">
        <button class="btn btn-info" data-dismiss="modal">Fechar</button>
      </div>
    </div>
  </div>
</div>
